/*
Raghad Elajab ‚Äî ePortfolio (React single-file app)
File: PortfolioApp.jsx

Instructions:
1. Recommended setup: Vite + React + Tailwind CSS.
   - Create project: `npm create vite@latest raghad-portfolio -- --template react` or use CRA.
   - Install deps: `npm install`
   - Install Tailwind: follow Tailwind docs (postcss, autoprefixer) or use the Vite guide.
   - Drop this file as `src/App.jsx` (or adjust imports) and ensure Tailwind is configured.

2. How to run:
   - `npm run dev` (Vite) or `npm start` (CRA)

3. What this file includes:
   - A complete single-file React app (default export) built with Tailwind utility classes.
   - Dynamic projects array (pre-filled from your CV). You can add new projects using the "Add Project" button ‚Äî projects are stored in localStorage.
   - Project details modal, Resume download button placeholder, Contact form (sends mailto link), and accessible components.

Customize:
 - Replace placeholder images (`/placeholder.png`) with your screenshots and add GitHub/Live links to projects.
 - Update contact links and resume URL.

*/

import React, { useEffect, useState } from "react";

// ---------- Helper: sample data pre-filled from your CV ----------
const initialProjects = [
  {
    id: 1,
    title: "Ecoffe ‚Äî VR Sustainable Caf√©",
    type: "XR / Game",
    short: "A sustainable caf√© simulation for Meta Quest (VR) focused on eco-friendly choices.",
    long: "Collaborated to develop a VR sustainable caf√© simulation on Meta Quest 3S. Implemented hand tracking, realistic physics, and immersive interactions using Unity's XR Interaction Toolkit and Meta Quest SDK.",
    tools: ["Unity", "C#", "Meta Quest SDK", "XR Interaction Toolkit"],
    image: null,
    link: "",
  },
  {
    id: 2,
    title: "Mixed-Reality Gardening Simulator",
    type: "XR / MR",
    short: "A Hololens-based MR app teaching kids gardening with an AI assistant.",
    long: "Built a mixed-reality gardening simulator for Microsoft Hololens. Features: Explore, Follow-Through (with AI assistant), and Challenge mode. Integrated voice recognition and responsive tutorial steps.",
    tools: ["Unity", "C#", "Hololens SDK", "Voice Recognition"],
    image: null,
    link: "",
  },
  {
    id: 3,
    title: "Car Price Prediction Model",
    type: "Machine Learning",
    short: "Regression model predicting car prices with ~88% accuracy.",
    long: "Cleaned a dataset with 100+ features; trained and fine-tuned 6 neural network variants and selected the best performing model.",
    tools: ["Python", "TensorFlow/PyTorch", "Pandas", "Scikit-learn"],
    image: null,
    link: "",
  },
  {
    id: 4,
    title: "Virtual Bomb Defusal (Assembly)",
    type: "Systems / Security",
    short: "Reverse-engineered an assembly-based bomb puzzle and decoded the secret across 7 phases.",
    long: "Analyzed memory registers and assembly logic to deduce the secret code, completing all phases without failure.",
    tools: ["Assembly", "GDB", "Reverse Engineering"],
    image: null,
    link: "",
  },
  {
    id: 5,
    title: "Fitness Tracking App",
    type: "Software Engineering",
    short: "Custom file-based scalable DB fitness tracker with admin/user privileges.",
    long: "Designed and implemented a fitness tracker with a custom scalable file-based database using a 3D-ArrayList for user data. Implemented privileges and real-time saving; project received top grade.",
    tools: ["Java", "Eclipse", "File I/O"],
    image: null,
    link: "",
  },
  {
    id: 6,
    title: "Mass Hysteria Research ‚Äî Pok√©mon 1997",
    type: "Research",
    short: "Investigated social and neurological causes behind Japan's 1997 Pok√©mon hysteria.",
    long: "Conducted literature review and analysis on social, neurological, and psychological factors contributing to the 1997 Pok√©mon-related mass hysteria affecting ~12,000 people.",
    tools: ["Research Methods", "Writing", "Data Analysis"],
    image: null,
    link: "",
  },
  {
    id: 7,
    title: "KU Leadership Programs",
    type: "Professional Development",
    short: "KU 'Leading With Knowledge & Passion' and 'MC Training' enrollees.",
    long: "Participated in leadership and public speaking development programs at Khalifa University to improve teamwork, communication, and adaptability.",
    tools: ["Leadership", "Public Speaking"],
    image: null,
    link: "",
  },
];

// ---------- Small reusable icons ----------
const IconGitHub = () => (
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden>
    <path d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.167 6.839 9.489.5.092.682-.217.682-.483 0-.237-.009-.866-.014-1.699-2.782.604-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.464-1.11-1.464-.908-.62.069-.607.069-.607 1.004.071 1.532 1.032 1.532 1.032.892 1.529 2.341 1.088 2.91.833.091-.647.35-1.088.636-1.338-2.22-.252-4.555-1.11-4.555-4.943 0-1.09.39-1.98 1.03-2.676-.103-.253-.447-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.294 2.748-1.025 2.748-1.025.547 1.378.203 2.395.1 2.647.64.696 1.028 1.586 1.028 2.676 0 3.843-2.338 4.687-4.566 4.935.359.31.679.923.679 1.861 0 1.343-.012 2.427-.012 2.756 0 .268.18.58.688.481A10.013 10.013 0 0022 12c0-5.523-4.477-10-10-10z" fill="currentColor" />
  </svg>
);

const IconMail = () => (
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden>
    <path d="M2 6a2 2 0 012-2h16a2 2 0 012 2v.2l-10 6-10-6V6zM2 8.8V18a2 2 0 002 2h16a2 2 0 002-2V8.8l-10 6-10-6z" fill="currentColor" />
  </svg>
);

// ---------- Components ----------
function Header({ onOpenAdd }) {
  return (
    <header class="bg-white/60 backdrop-blur sticky top-0 z-40 border-b shadow-sm">
      <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="rounded-full w-12 h-12 bg-gradient-to-br from-indigo-500 to-cyan-400 flex items-center justify-center text-white font-semibold">RE</div>
          <div>
            <h1 class="text-lg font-semibold">Raghad Elajab</h1>
            <p class="text-xs text-gray-600">Computer Science ¬∑ Khalifa University ¬∑ Graduating 2027</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <a href="#projects" class="text-sm hover:underline">Projects</a>
          <a href="#experience" class="text-sm hover:underline">Experience</a>
          <a href="#skills" class="text-sm hover:underline">Skills</a>
          <a href="#contact" class="text-sm hover:underline">Contact</a>
          <button onClick={onOpenAdd} class="ml-4 px-3 py-2 bg-indigo-600 text-white rounded-md text-sm shadow">Add Project</button>
        </div>
      </div>
    </header>
  );
}

function About({ name, statement, location, email }) {
  return (
    <section id="about" class="max-w-6xl mx-auto px-6 py-12 grid md:grid-cols-3 gap-8 items-center">
      <div class="md:col-span-2">
        <h2 class="text-2xl font-bold mb-3">About</h2>
        <p class="text-gray-700 mb-4">{statement}</p>
        <div class="flex flex-wrap gap-4 text-sm text-gray-600">
          <div>üìç {location}</div>
          <div>üéì Khalifa University (BSc Computer Science, 2027)</div>
          <div>‚úâÔ∏è <a href={`mailto:${email}`} class="underline">{email}</a></div>
        </div>
          <div class="mt-6 flex items-center gap-3">
  <a class="px-4 py-2 border rounded text-sm" href="#resume">Download Resume</a>
  <a class="px-4 py-2 bg-gray-100 rounded text-sm" href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a>
  <a class="px-4 py-2 bg-gray-100 rounded text-sm" href="https://www.linkedin.com/" target="_blank" rel="noreferrer">LinkedIn</a>
</div>
      </div>
      <div class="flex flex-col items-center gap-3">
        <div class="w-40 h-40 rounded-xl bg-gray-100 flex items-center justify-center overflow-hidden shadow">
          {/* Replace with your photo */}
          <span class="text-gray-400">Photo</span>
        </div>
        <div class="text-center text-sm text-gray-600">
          <div class="font-medium">Raghad Elajab</div>
          <div>Junior Computer Science Student</div>
        </div>
      </div>
    </section>
  );
}

function ProjectCard({ p, onOpen }) {
  return (
    <article class="bg-white rounded-xl shadow p-4 hover:shadow-md transition cursor-pointer" onClick={() => onOpen(p)}>
      <div class="h-40 rounded-md bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center text-gray-400">
        {p.image ? <img src={p.image} alt={p.title} class="object-cover w-full h-full rounded-md" /> : <div class="text-sm">No preview</div>}
      </div>
      <div class="mt-3">
        <div class="flex items-center justify-between">
          <h3 class="font-semibold">{p.title}</h3>
          <span class="text-xs text-gray-500">{p.type}</span>
        </div>
        <p class="mt-2 text-sm text-gray-600">{p.short}</p>
        <div class="mt-3 flex flex-wrap gap-2">
          {p.tools.slice(0, 4).map((t, i) => (
            <span key={i} class="text-xs px-2 py-1 bg-gray-100 rounded">{t}</span>
          ))}
        </div>
      </div>
    </article>
  );
}

function ProjectModal({ project, onClose }) {
  if (!project) return null;
  return (
    <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4">
      <div class="bg-white rounded-xl w-full max-w-3xl shadow-lg overflow-auto max-h-[90vh]">
        <div class="p-6">
          <div class="flex items-start justify-between">
            <div>
              <h2 class="text-xl font-semibold">{project.title}</h2>
              <p class="text-sm text-gray-500">{project.type}</p>
            </div>
            <button onClick={onClose} aria-label="Close" class="text-gray-500">‚úï</button>
          </div>
          <div class="mt-4 grid md:grid-cols-3 gap-6">
            <div class="md:col-span-2">
              <div class="h-56 rounded-md bg-gray-50 flex items-center justify-center overflow-hidden">
                {project.image ? <img src={project.image} alt={project.title} class="object-cover w-full h-full" /> : <div class="text-gray-400">No preview image</div>}
              </div>
              <p class="mt-4 text-gray-700">{project.long}</p>
            </div>
            <aside class="p-4 bg-gray-50 rounded">
              <h4 class="font-medium">Tools & Technologies</h4>
              <ul class="mt-2 text-sm text-gray-700 space-y-1">
                {project.tools.map((t, i) => (
                  <li key={i}>‚Ä¢ {t}</li>
                ))}
              </ul>
              <div class="mt-6">
                {project.link ? (
                  <a href={project.link} target="_blank" rel="noreferrer" class="inline-flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white rounded">View Project</a>
                ) : (
                  <button class="px-3 py-2 bg-gray-200 rounded" disabled>Link not provided</button>
                )}
              </div>
            </aside>
          </div>
        </div>
      </div>
    </div>
  );
}

function Skills({ skills }) {
  return (
    <section id="skills" class="max-w-6xl mx-auto px-6 py-12">
      <h2 class="text-2xl font-bold mb-4">Skills</h2>
      <div class="grid md:grid-cols-4 gap-4">
        {Object.entries(skills).map(([cat, list]) => (
          <div key={cat} class="bg-white rounded-lg p-4 shadow-sm">
            <h3 class="font-medium mb-2">{cat}</h3>
            <div class="flex flex-wrap gap-2">
              {list.map((s, i) => (
                <span key={i} class="text-xs px-2 py-1 bg-gray-100 rounded">{s}</span>
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>
  );
}

function Experience({ items }) {
  return (
    <section id="experience" class="max-w-6xl mx-auto px-6 py-12">
      <h2 class="text-2xl font-bold mb-4">Experience & Leadership</h2>
      <div class="space-y-4">
        {items.map((it, i) => (
          <div key={i} class="bg-white rounded-lg p-4 shadow-sm">
            <div class="flex items-center justify-between">
              <div>
                <h3 class="font-semibold">{it.title}</h3>
                <p class="text-sm text-gray-600">{it.when} ‚Ä¢ {it.location || ""}</p>
              </div>
              <div class="text-sm text-gray-500">{it.role || ""}</div>
            </div>
            <p class="mt-2 text-gray-700 text-sm">{it.desc}</p>
          </div>
        ))}
      </div>
    </section>
  );
}

function Achievements({ items }) {
  return (
    <section id="achievements" class="max-w-6xl mx-auto px-6 py-12">
      <h2 class="text-2xl font-bold mb-4">Achievements & Certificates</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {items.map((a, i) => (
          <div key={i} class="bg-white rounded-lg p-4 shadow-sm">
            <div class="font-medium">{a.title}</div>
            <div class="text-sm text-gray-600 mt-1">{a.meta}</div>
            {a.file && <div class="mt-3 text-sm"><a href={a.file} target="_blank" rel="noreferrer" class="underline">View Certificate</a></div>}
          </div>
        ))}
      </div>
    </section>
  );
}

function Contact({ email, phone }) {
  return (
    <section id="contact" class="max-w-6xl mx-auto px-6 py-12">
      <h2 class="text-2xl font-bold mb-4">Contact</h2>
      <p class="text-gray-700 mb-4">I'm open to internships and project collaborations. Reach out via email or LinkedIn.</p>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-white rounded-lg p-6 shadow-sm">
          <h4 class="font-medium">Email</h4>
          <a href={`mailto:${email}`} class="mt-2 block text-indigo-600">{email}</a>
          <h4 class="font-medium mt-4">Phone</h4>
          <div class="mt-2">{phone}</div>
          <div class="mt-6 flex gap-3">
            <a href="#" class="inline-flex items-center gap-2 px-3 py-2 border rounded"><IconGitHub /> GitHub</a>
            <a href="#" class="inline-flex items-center gap-2 px-3 py-2 border rounded"><IconMail /> LinkedIn</a>
          </div>
        </div>
        <form class="bg-white rounded-lg p-6 shadow-sm" onSubmit={(e) => e.preventDefault()}>
          <h4 class="font-medium">Send a quick message</h4>
          <div class="mt-3 grid gap-3">
            <input placeholder="Your name" class="border rounded px-3 py-2" />
            <input placeholder="Your email" class="border rounded px-3 py-2" />
            <textarea placeholder="Message" class="border rounded px-3 py-2 h-28" />
            <div class="flex justify-end">
              <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded">Send</button>
            </div>
          </div>
        </form>
      </div>
    </section>
  );
}

// ---------- Main App ----------
export default function App() {
  // Persistent projects
  const [projects, setProjects] = useState(() => {
    try {
      const raw = localStorage.getItem("projects_v1");
      if (raw) return JSON.parse(raw);
    } catch (e) {
      // ignore
    }
    return initialProjects;
  });

  useEffect(() => {
    localStorage.setItem("projects_v1", JSON.stringify(projects));
  }, [projects]);

  const [selected, setSelected] = useState(null);
  const [adding, setAdding] = useState(false);

  const openAdd = () => setAdding(true);
  const closeAdd = () => setAdding(false);

  function handleAdd(e) {
    e.preventDefault();
    const form = e.target;
    const title = form.title.value.trim();
    if (!title) return;
    const newP = {
      id: Date.now(),
      title,
      type: form.type.value.trim() || "Project",
      short: form.short.value.trim() || "",
      long: form.long.value.trim() || "",
      tools: form.tools.value.split(",").map((t) => t.trim()).filter(Boolean),
      image: form.image.value.trim() || null,
      link: form.link.value.trim() || "",
    };
    setProjects((s) => [newP, ...s]);
    setAdding(false);
  }

  const skills = {
    "Programming Languages": ["Python", "Java", "C", "C#", "MATLAB", "R", "Assembly"],
    "Tools & Software": ["VS Code", "Git/GitHub", "Unity", "Blender", "Anaconda"],
    "XR Development": ["Unity", "XR Interaction Toolkit", "Meta Quest SDK", "Hololens SDK"],
    "Leadership": ["Project Management", "Public Speaking", "Team Coordination"],
  };

  const experience = [
    { title: "Peer Mentor", when: "Spring 2025", location: "Khalifa University", desc: "Held weekly office hours to assist students with coursework and problem-solving." },
    { title: "Board Member ‚Äî E-Gaming Club", when: "Fall 2024 ‚Äî Present", location: "Khalifa University", desc: "Lead Media Team, coordinate volunteers, and help organize events for hundreds of participants." },
    { title: "KU Leadership Programs", when: "2025", location: "Khalifa University", desc: "Participated in leadership & MC training programs to grow public speaking and teamwork skills." },
  ];

  const achievements = [
    { title: "Dean's List (2023-2024 & 2024-2025)", meta: "Academic excellence recognition" },
    { title: "3rd Place ‚Äî Sustainability E-Gaming Competition", meta: "Project: Ecoffe" },
    { title: "Endless Studio's Game Jam", meta: "Participant" },
  ];

  return (
    <div class="min-h-screen bg-gradient-to-b from-white to-gray-50 text-gray-800">
      <Header onOpenAdd={openAdd} />

      <main>
        <About
          name="Raghad Elajab"
          statement={`A motivated junior Computer Science student with a strong foundation in programming seeking internship opportunities to apply academic knowledge, grow professionally, and add value using critical thinking and creativity.`}
          location="Abu Dhabi, UAE"
          email="raghadelajab@gmail.com"
        />

        <section id="projects" class="max-w-6xl mx-auto px-6 py-12">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-bold">Projects</h2>
            <div class="text-sm text-gray-600">Showing <strong>{projects.length}</strong> projects ‚Äî add more with the button above.</div>
          </div>

          <div class="mt-6 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {projects.map((p) => (
              <ProjectCard key={p.id} p={p} onOpen={(proj) => setSelected(proj)} />
            ))}
          </div>
        </section>

        <Experience items={experience} />
        <Achievements items={achievements} />
        <Skills skills={skills} />
        <Contact email="raghadelajab@gmail.com" phone="+971 56 445 9899" />

        <footer class="max-w-6xl mx-auto px-6 py-8 text-sm text-gray-500">
          <div class="flex items-center justify-between">
            <div>¬© {new Date().getFullYear()} Raghad Elajab ‚Äî Built with React + Tailwind</div>
            <div>Made for internships & hiring</div>
          </div>
        </footer>
      </main>

      {/* Modals */}
      <ProjectModal project={selected} onClose={() => setSelected(null)} />

      {adding && (
        <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4">
          <div class="bg-white rounded-xl w-full max-w-2xl shadow-lg overflow-auto max-h-[90vh]">
            <div class="p-6">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold">Add a new project</h3>
                <button onClick={closeAdd} class="text-gray-500">‚úï</button>
              </div>
              <form class="mt-4 space-y-3" onSubmit={handleAdd}>
                <div>
                  <label class="text-sm">Title</label>
                  <input name="title" class="w-full border rounded px-3 py-2 mt-1" required />
                </div>
                <div class="grid sm:grid-cols-2 gap-3">
                  <div>
                    <label class="text-sm">Type</label>
                    <input name="type" class="w-full border rounded px-3 py-2 mt-1" />
                  </div>
                  <div>
                    <label class="text-sm">Short description</label>
                    <input name="short" class="w-full border rounded px-3 py-2 mt-1" />
                  </div>
                </div>
                <div>
                  <label class="text-sm">Long description</label>
                  <textarea name="long" class="w-full border rounded px-3 py-2 mt-1 h-28" />
                </div>
                <div>
                  <label class="text-sm">Tools (comma separated)</label>
                  <input name="tools" class="w-full border rounded px-3 py-2 mt-1" placeholder="e.g. Unity, C#" />
                </div>
                <div class="grid sm:grid-cols-2 gap-3">
                  <div>
                    <label class="text-sm">Image URL (optional)</label>
                    <input name="image" class="w-full border rounded px-3 py-2 mt-1" />
                  </div>
                  <div>
                    <label class="text-sm">Link (GitHub / Live)</label>
                    <input name="link" class="w-full border rounded px-3 py-2 mt-1" />
                  </div>
                </div>
                <div class="flex justify-end gap-2">
                  <button type="button" onClick={closeAdd} class="px-4 py-2 border rounded">Cancel</button>
                  <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded">Add Project</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}


